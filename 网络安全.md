# 网络安全

## 批处理命令

### echo 

​	回显

​	@echo off 关闭命令

### start 

​	打开

### goto 

​	gotoxxx 

​	    :xxx 

   跳转

### pause 

暂停 

### call 

程序的互相调用

### sort 

​	排序

​	sort /+n 按第几个数字排序

​	sort xxx /o qqq 排序xxx到qqq里

### type 

​	查看

### <,>>,>

 重定向

'>'创建或者覆盖输出

<

'>>'创建或者追加重定向

### net 

​	服务

​	start 服务名       开启某服务

​	stop 服务名       关闭某服务

### netsh 

#### 	wlan 

​		WiFi信息

​		netsh wlan set hostednetwork mode=allow ssid=yuankaiwifi key=yuankai123 设置WiFi

​		netsh wlan start hostednetwork 开启wifi

​		netsh wlan stop hostednetwork 停止wifi

​		wlan show 展开WiFi信息

​			profiles 配置文件信息

​			all 所有信息

​			profile name=“wifi名”  key=clear

#### firewall

​	 防火墙设置

​		netsh firewall show config 查看防火墙信息（firewall.cpl）

​		netsh firewall set opmode disable/enale  关闭/开启防火墙

### netstat 

查询tcp/ip连接

​	netstat -ano |findstr 端口         查询指定端口进程

tasklist 列举任务进程

​	tasklist |findstr 进程号     列举指定进程

taskkill 杀死任务进程

​	taskkill /im 进程名 /f 强制杀死进程

taskmgr 打开任务管理器

shoutdown -s -t 120 -m '关机'

### set 

​	变量

​	set xxx=xxx 定义

​	set xxx 打印，使用

​	 set xxx= 删除

​	set /

​	%xxx% 动态调用

​	set /a 算术运算

​	set /p 输入

ncpa.cpl 网络配置

```shell
@echo off
echo 配置ip和dns
:: 设置变量
set name="WLAN"
set ipaddress=192.168.1.10
set mask=255.255.255.0
set gateway=192.168.1.1
set dns=114.114.114.114
set wins=8.8.8.8
::主体部分
echo 正在设置IP地址
netsh interface ip set address name=%name% source=static addr=%ipaddress% mask=%mask% gateway=%gateway% 1
echo 正在设置DNS
netsh interface ip set dns name="WLAN" source=static addr=%dns%
echo 正在设置备用DNS
netsh interface ip add dns "WLAN" addr=%wins% index=2
::

rem -------------------------------------------------------------------------------------

echo 自动获取IP地址
netsh interface ip set address name="WLAN" source=dhcp
echo 自动获取DNS服务器
netsh interface ip set dns name="WLAN" source=dhcp
echo 设置完毕
pause > nul
```

### for



使用for循环生成文件夹

​	for /l %i in (1, 1, 100) do md D:\new1\新建文件夹%i   循环创建文件

​	for /f %i in (文件.txt) do md %i   循环读取文件类容生成

## 网站安全

​	腾讯，360，火绒，百度，站长工具都可以监查安全性，站长工具可以监测端口是否开启，进行渗透测试

​	re007，找回你    查看手机邮箱注册过的网站

​	站长工具，检测网站响应速度

### 钟馗之眼

指定搜索的组件：

app：组件名称

ver：组件版本

例如：搜索 apache组件    版本2.4

app:apache var:2.4
指定搜素的端口

port:端口号

例如：搜索开放了SSH端口的主机

port:22
一些服务器可能监听了非标准的端口。要按照更精确的协议进行检索，可以使用service进行过滤。

指定搜索的操作系统：

OS:操作系统

例如：搜索Linux操作系统

OS:Linux
指定搜索的服务：

service：服务名称

例如，搜索SSH服务

service：SSH
指定搜索的地理位置范围：

country：国家名

city:城市名

例如：

country:China

city：Beijing
指定搜索的CIDR网段：
cidr:网段

例如：

CIDR：192.168.158.12/24
指定网站域名进行搜索：

Site:网站域名

例如：

site:www.baidu.com
指定主机名：

Hostname:主机名

例如：

hostname:zwl.cuit.edu.cn
指定设备名：

device:设备名

例如：

device:router
指定首页关键词：

keyword:关键词

例如：

keyword:technology

## 端口安全

危险端口：135，139，445，3389等等...

139：

​	基于TCP协议，通过此端口，可以获得NetBIOS/SMB服务，像文件和打印机，SAMBA，就是使用的此协议，在intenet上共享硬盘也是使用此端口。

​	139，445均为IPC$漏洞，虽然不是真正的漏洞（微软为了方便管理员操作安置的后门-空会话），但还是需要小心对待，win10，win8已经处理。

```shell
# 禁止139端口被远程访问
netsh advfirewall firewall add rule name="Disable port 139 -TCP" dir=in action=block protocol=TCP localport=139
```

```shell
# 查看服务
firewall.cpl
```

